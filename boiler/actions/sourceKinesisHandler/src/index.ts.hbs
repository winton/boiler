import {
  KinesisStreamEvent,
  KinesisStreamRecord,
} from "aws-lambda"

export class {{class}} {
  handler(event: KinesisStreamEvent): void {
    event.Records.forEach((record: KinesisStreamRecord) => {
      const payload = Buffer.from(
        record.kinesis.data,
        "base64"
      ).toString("ascii")

      // eslint-disable-next-line no-console
      console.log("Decoded payload:", payload)
    })
  }
}

export function {{name}}(
  event: KinesisStreamEvent
): void {
  new {{class}}().handler(event)
}
