import { KinesisStreamEvent } from "aws-lambda"

export class {{class}} {
  async handler(event: KinesisStreamEvent): Promise<void> {
    for (const record of event.Records) {
      const payload = Buffer.from(
        record.kinesis.data,
        "base64"
      ).toString("ascii")

      // eslint-disable-next-line no-console
      console.log("Decoded payload:", payload)
    }
  }
}

export function {{name}}(
  event: KinesisStreamEvent
): Promise<void> {
  return new {{class}}().handler(event)
}
